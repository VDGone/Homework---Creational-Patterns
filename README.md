# Homework---Creational-Patterns

### Singleton

Сингълтън е creational pattern (шаблон). Представлява единичен статичен клас, който позволява да се създаде само една инстанция до него и дава прост и лесен начин да бъде достъпена. Употребява се за глобални и единствени компоненти от приложението.Сингълтън нарушава част от принципите на ООП и SOLID, затова се избягва да се използва, ако наистина не е наложително. Често е използван за файлови системи, логери, за следене на резултати в игри например.Предимствата на шаблона пред статичните обекти обаче са доста:
–         предаване на обектите като параметри във функциии
–         създаване и на инстанционни, а не само статични членове в класа
–         контрол върху създаването на инстанции в зависимост от модификатора за достъп на конструктора
–         по-голям контрол върху поведението
–         имплементация на интерфейс.
Три са нещата, необходими за постигането на Singleton:
-         статично поле на класа
-         private конструктор
-         public метод/статично property, коeто връща статичното поле.

### Имплементация:

public class Singleton
{
   private static Singleton instance;
 
   private Singleton() {}
 
   public static Singleton Instance
   {
      get
      {
         if (instance == null)
         {
            instance = new Singleton();
         }
         return instance;
      }
   }
}

При този вид имплементация обаче може да има проблеми, ако няколко нишки едновременно искат да достъпят инстанцията на обекта. При тях се създава само инстанция за нишката, която е достъпила първа инстанцията. Това може да се избегне чрез следната имплементация.

public sealed class Singleton
{
   private static volatile Singleton instance;
   private static object syncRoot = new Object();
 
   private Singleton() {}
 
   public static Singleton Instance
   {
      get
      {
         if (instance == null)
         {
            lock (syncRoot)
            {
               if (instance == null)
                  instance = new Singleton();
            }
         }
 
         return instance;
      }
   }
}
